"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={harvester:{name:"harvester",targetPopulation:4,behavior:function(e){if(e.store.getFreeCapacity()>0){var r=e.room.find(FIND_SOURCES);e.harvest(r[0])===ERR_NOT_IN_RANGE&&e.moveTo(r[0])}else{var o=Game.spawns.Spawn1;switch(e.transfer(o,RESOURCE_ENERGY)){case ERR_NOT_IN_RANGE:e.moveTo(o);break;case OK:break;case ERR_FULL:var a=Game.rooms.W8N3.controller;if(a)e.transfer(a,RESOURCE_ENERGY)===ERR_NOT_IN_RANGE&&e.moveTo(a);break;default:console.log("Unknown error code found!")}}},body:[WORK,CARRY,MOVE]}};exports.loop=function(){Game.time%10==0&&function(){console.log("Running census!");for(var r=Object.entries(Memory.creeps).reduce((function(e,r){var o=r[1];return o.role||(o.role="harvester"),e[o.role]||(e[o.role]=[]),e[o.role].push(o),e}),{}),o=Game.spawns.Spawn1,a=0,n=Object.values(e);a<n.length;a++){var t=n[a];if((!r[t.name]||r[t.name].length<t.targetPopulation)&&o.spawnCreep(t.body,""+t.name+Game.time.toString(),{dryRun:!0})===OK)return void o.spawnCreep(t.body,""+t.name+Game.time.toString(),{memory:{role:t.name}})}}();for(var r=0,o=Object.values(Game.creeps);r<o.length;r++){var a=o[r];if(!a.ticksToLive||a.ticksToLive<5)a.suicide(),delete Memory.creeps[a.name];else e[Memory.creeps[a.name].role].behavior(a)}};
